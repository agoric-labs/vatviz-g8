<!DOCTYPE html>
<head>
  <title>vatViz - visualization of SwingSet vat logs</title>
  <script type="module" src="js/app.js"></script>
  <script src="//d3js.org/d3.v5.min.js"></script>
  <script src="https://unpkg.com/@hpcc-js/wasm@0.3.11/dist/index.min.js"></script>
  <script src="https://unpkg.com/d3-graphviz@3.0.5/build/d3-graphviz.js"></script>
  <style>
    .graph {
      width: 100%;
    }
  </style>
</head>
<body>
  <h1>vatViz - visualization of SwingSet vat logs</h1>
  <section id="ui">
    <noscript>Try turning on JavaScript?</noscript>
  </section>
  <div id="graph" style="text-align: left"></div>
  <script>
    const graphviz = d3.select('#graph').graphviz();
    // graphviz.engine('twopi');
    globalThis.renderDot = dot => graphviz.renderDot(dot);
    renderDot('digraph  {a -> b}');
  </script>
  <section id="ui"></section>
  <section>
    <h2>Annotations</h2>
    <textarea name="annotations">
{
    "vats": {
        "v1": "bootstrap",
        "v2": "vatAdmin",
        "v3": "comms",
        "v4": "mailbox",
        "v5": "timer",
        "v6": "zoe",
        "v7": "board",
        "v8": "chainStorage",
        "v9": "centralSupply",
        "v10": "mintHolder: USDC_axl",
        "v11": "mintHolder: AUSD",
        "v12": "psmCharter",
        "v13": "committee.econ",
        "v14": "mintHolder: BLD",
        "v15": "bank",
        "v16": "walletFactory",
        "v17": "governor: PSM(USDC_axl)",
        "v18": "governor: ?",
        "v19": "governor: ?",
        "v20": "PSM(USDC_axl)",
        "v21": "PSM(AUSD)",
        "v22": "provisionPool"
    },
    "exports": {
        "v1": {
            "ko21": "bootstrap*",
            "ko135": "agoricNames"
        },
        "v2": {
            "ko20": "vatAdmin*",
            "ko27": "vatAdminSvc",
            "ko34": "adminNode.34 v??",
            "ko35": "adminNode.35 v??"
        },
        "v5": {
            "ko23": "timer*",
            "ko29": "timerService"
        },
        "v6": {
            "ko30": "zoe*",
            "ko36": "feeMintAccess",
            "ko37": "zoeService",
            "ko40": "IST Issuer",
            "ko41": "Installation.41??",
            "ko42": "Installation.42??",
            "ko43": "Installation.43??",
            "ko44": "Installation.44??",
            "ko45": "Installation.45??",
            "ko46": "Installation.46??",
            "ko47": "Installation.47??",
            "ko48": "Installation.48??",
            "ko49": "Installation.49??",
            "ko57": "IST brand",
            "ko58": "Invitation issuer",
            "ko71": "Instance.71??",
            "ko73": "Instance.73??",
            "ko74": "zcfAdmin: psmCharter",
            "ko75": "Instance.75??",
            "ko85": "adminFacet.85??",
            "ko87": "adminFacet.87??",
            "ko96": "Instance.96??",
            "ko133": "Invitation.133??",
            "ko139": "Invitation brand",
            "ko144": "zcfAdmin: walletFactory",
            "ko145": "InstanceH.145",
            "ko160": "zcfAdmin: v17",
            "ko161": "Instance.161??",
            "ko166": "Invitation.166??",
            "ko175": "zcfAdmin.175",
            "ko176": "Instance.176??",
            "ko178": "InstanceH.178",
            "ko273": "adminFacet.273??"
        },
        "v7": {
            "ko31": "board*",
            "ko38": "board",
            "ko51": "boardSerializer"
        },
        "v8": {
            "ko32": "chainStorage*",
            "ko59": "node.59",
            "ko132": "node.132",
            "ko149": "node.149"
        },
        "v9": {
            "ko60": "zcf.9"
        },
        "v10": {
            "ko76": "USDC_axl mint",
            "ko78": "USDC_axl issuer",
            "ko90": "USDC_axl brand"
        },
        "v11": {
            "ko79": "AUSD mint",
            "ko81": "AUSD issuer",
            "ko91": "AUSD brand"
        },
        "v12": {
            "ko82": "psmCharterCreatorFacet"
        },
        "v13": {
            "ko100": "cttee creatorFacet",
            "ko129": "InvitationH.129",
            "ko165": "InvitationH.165"
        },
        "v14": {
            "ko121": "BLD brand"
        },
        "v17": {
            "ko264": "psmGovernorFacet(USDC_axl)"
        },
        "v19": {
            "ko261": "gov. creatorFacet.261"
        },
        "v21": {
            "ko150": "published.psm.IST.AUSD"
        },
        "v22": {
            "ko216": "provisionPool governorFacet",
            "ko217": "handleOffer.217"
        }
    }
}
    </textarea>
  </section>
</body>
